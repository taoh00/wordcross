# å¡«å•è¯æ¸¸æˆ iOS åº”ç”¨

åŸºäº React Native + Expo å¼€å‘çš„ iOS å¡«å­—æ¸¸æˆåº”ç”¨ã€‚

## æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React Native | 0.73.2 | è·¨å¹³å°ç§»åŠ¨å¼€å‘ |
| Expo | ~50.0.0 | å¼€å‘å·¥å…·é“¾ |
| TypeScript | ^5.3.0 | ç±»å‹å®‰å…¨ |
| Redux Toolkit | ^2.0.1 | çŠ¶æ€ç®¡ç† |
| React Navigation | ^6.x | è·¯ç”±å¯¼èˆª |
| expo-av | ~14.0.4 | éŸ³é¢‘æ’­æ”¾ |

## é¡¹ç›®ç»“æ„

```
src/ios-app/
â”œâ”€â”€ App.tsx                    # åº”ç”¨å…¥å£
â”œâ”€â”€ index.js                   # æ³¨å†Œæ ¹ç»„ä»¶
â”œâ”€â”€ app.json                   # Expo é…ç½®
â”œâ”€â”€ package.json               # ä¾èµ–é…ç½®
â”œâ”€â”€ tsconfig.json              # TypeScript é…ç½®
â”œâ”€â”€ babel.config.js            # Babel é…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                   # API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ client.ts          # ç½‘ç»œè¯·æ±‚å°è£…
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ stores/                # Redux çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ index.ts           # Store é…ç½®
â”‚   â”‚   â”œâ”€â”€ userSlice.ts       # ç”¨æˆ·çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ gameSlice.ts       # æ¸¸æˆçŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ settingsSlice.ts   # è®¾ç½®çŠ¶æ€
â”‚   â”‚   â””â”€â”€ hooks.ts           # ç±»å‹åŒ– hooks
â”‚   â”œâ”€â”€ screens/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ HomeScreen.tsx     # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ GameScreen.tsx     # æ¸¸æˆé¡µ
â”‚   â”‚   â”œâ”€â”€ SettingsScreen.tsx # è®¾ç½®é¡µ
â”‚   â”‚   â”œâ”€â”€ LeaderboardScreen.tsx # æ’è¡Œæ¦œ
â”‚   â”‚   â”œâ”€â”€ LevelSelectScreen.tsx # å…³å¡é€‰æ‹©
â”‚   â”‚   â””â”€â”€ VocabSelectScreen.tsx # è¯åº“é€‰æ‹©
â”‚   â”œâ”€â”€ components/            # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Grid.tsx           # å¡«å­—ç½‘æ ¼
â”‚   â”‚   â”œâ”€â”€ Keyboard.tsx       # è™šæ‹Ÿé”®ç›˜
â”‚   â”‚   â””â”€â”€ WordList.tsx       # å•è¯åˆ—è¡¨
â”‚   â”œâ”€â”€ navigation/            # å¯¼èˆªé…ç½®
â”‚   â”‚   â””â”€â”€ AppNavigator.tsx   # ä¸»å¯¼èˆªå™¨
â”‚   â””â”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ audio.ts           # éŸ³é¢‘æ’­æ”¾
â””â”€â”€ assets/                    # é™æ€èµ„æº
    â””â”€â”€ images/                # å›¾ç‰‡èµ„æº
```

## åŠŸèƒ½åˆ—è¡¨

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| é—¯å…³æ¨¡å¼ | âœ… | 31ä¸ªè¯åº“ï¼Œ12000+å…³å¡ |
| æ— é™æ¨¡å¼ | âœ… | éšæœºç”Ÿæˆï¼Œæ— é™æŒ‘æˆ˜ |
| è®¡æ—¶æ¨¡å¼ | âœ… | é™æ—¶æŒ‘æˆ˜ |
| PK å¯¹æˆ˜ | ğŸ”² | WebSocket å®æ—¶å¯¹æˆ˜ï¼ˆå¾…å®ç°ï¼‰ |
| ä½“åŠ›ç³»ç»Ÿ | âœ… | ä½“åŠ›æ¶ˆè€—ä¸æ¢å¤ |
| é“å…·ç³»ç»Ÿ | âœ… | æç¤ºã€å‘éŸ³é“å…· |
| æ’è¡Œæ¦œ | âœ… | 8ç§æ’è¡Œæ¦œç±»å‹ |
| ç”¨æˆ·ç³»ç»Ÿ | âœ… | æœ¬åœ°ç”¨æˆ· + æœåŠ¡ç«¯åŒæ­¥ |
| è®¾ç½® | âœ… | éŸ³æ•ˆã€å‘éŸ³ã€ç¿»è¯‘ç­‰ |

## å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- npm æˆ– yarn
- Expo CLI
- Xcodeï¼ˆç”¨äº iOS æ¨¡æ‹Ÿå™¨ï¼‰

### å®‰è£…ä¾èµ–

```bash
cd src/ios-app
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨ Expo å¼€å‘æœåŠ¡å™¨
npm start

# å¯åŠ¨ iOS æ¨¡æ‹Ÿå™¨
npm run ios
```

### æ„å»ºå‘å¸ƒç‰ˆæœ¬

```bash
# ä½¿ç”¨ EAS Build æ„å»º
eas build --platform ios

# æœ¬åœ°æ„å»ºï¼ˆéœ€è¦ Xcodeï¼‰
expo build:ios
```

## é…ç½®è¯´æ˜

### API åœ°å€

åœ¨ `app.json` ä¸­é…ç½®ï¼š

```json
{
  "expo": {
    "extra": {
      "apiBaseUrl": "https://superhe.art:10010"
    }
  }
}
```

æˆ–åœ¨ `src/api/client.ts` ä¸­ç›´æ¥ä¿®æ”¹ï¼š

```typescript
const API_BASE = 'https://superhe.art:10010';
```

### App Store ä¿¡æ¯

åœ¨ `app.json` ä¸­é…ç½®ï¼š

```json
{
  "expo": {
    "ios": {
      "bundleIdentifier": "com.wordcross.app",
      "buildNumber": "1"
    }
  }
}
```

## ä¸å…¶ä»–ç‰ˆæœ¬çš„å…³ç³»

æœ¬åº”ç”¨æ˜¯å¡«å•è¯æ¸¸æˆçš„ iOS åŸç”Ÿç‰ˆæœ¬ï¼Œä¸ä»¥ä¸‹ç‰ˆæœ¬å…±ç”¨åŒä¸€åç«¯ï¼š

| ç‰ˆæœ¬ | ç›®å½• | æŠ€æœ¯æ ˆ |
|------|------|--------|
| ç½‘é¡µç‰ˆ | src/frontend/ | Vue 3 + Vite |
| å¾®ä¿¡å°ç¨‹åº | src/wechat-minigame/ | åŸç”Ÿ WXML/WXSS |
| **iOS åº”ç”¨** | src/ios-app/ | React Native + Expo |

### å…±äº«ä»£ç 

ä½äº `src/shared/` ç›®å½•çš„å…±äº«ä»£ç å¯ä¾›ä¸‰ç«¯ä½¿ç”¨ï¼š

- `api/types.ts` - æ•°æ®ç±»å‹å®šä¹‰
- `api/endpoints.ts` - API ç«¯ç‚¹å¸¸é‡
- `constants/groups.ts` - è¯åº“åˆ†ç»„é…ç½®
- `constants/gameConfig.ts` - æ¸¸æˆé…ç½®
- `logic/gameLogic.ts` - æ¸¸æˆæ ¸å¿ƒé€»è¾‘
- `logic/scoreCalculator.ts` - ç§¯åˆ†è®¡ç®—

## æ³¨æ„äº‹é¡¹

1. **ç½‘ç»œè¯·æ±‚**ï¼šä½¿ç”¨ `X-User-Id` Header è¿›è¡Œç”¨æˆ·è®¤è¯
2. **éŸ³é¢‘æ’­æ”¾**ï¼šä½¿ç”¨ expo-avï¼Œæ”¯æŒæœ¬åœ°å’Œåœ¨çº¿ TTS å›é€€
3. **å­˜å‚¨**ï¼šä½¿ç”¨ AsyncStorage è¿›è¡Œæœ¬åœ°æ•°æ®æŒä¹…åŒ–
4. **å¯¼èˆª**ï¼šä½¿ç”¨ React Navigation 6.x

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2026-01-26)

- åˆå§‹ç‰ˆæœ¬
- æ”¯æŒé—¯å…³ã€æ— é™ã€è®¡æ—¶ä¸‰ç§æ¸¸æˆæ¨¡å¼
- æ”¯æŒ 31 ä¸ªè¯åº“
- å®Œæ•´çš„ä½“åŠ›å’Œé“å…·ç³»ç»Ÿ
- 8 ç§æ’è¡Œæ¦œ
